!function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){var o=new Date,a=new Date;console.log(14),a.setDate(o.getDate()-14);var r,n,i,p=String(o.getDate()).padStart(2,"0"),s=String(o.getMonth()+1).padStart(2,"0"),c=o.getFullYear(),u=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),m=a.getFullYear(),d=`https://earthquake.usgs.gov/fdsnws/event/1/query.geojson?starttime=${a=m+"-"+l+"-"+u}%2000:00:00&endtime=${o=c+"-"+s+"-"+p}%2023:59:59&minmagnitude=2.5&orderby=magnitude`,g="Map data &copy; <a href='https://www.openlightMap.org/'>OpenlightMap</a> contributors, <a href='https://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, Imagery Â© <a href='https://www.mapbox.com/'>Mapbox</a>",f="https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",y="https://raw.githubusercontent.com/fraxen/tectonicplates/master/GeoJSON/PB2002_boundaries.json";function b(){document.getElementById("duration").innerHTML=`Duration: ${a} through ${o}`,d3.json(d,e=>{!function(e){!function(e){var t=L.tileLayer(f,{attribution:g,maxZoom:6,minZoom:2,id:"mapbox.satellite",noWrap:!1,accessToken:API_KEY}),o=L.tileLayer(f,{attribution:g,maxZoom:6,minZoom:2,id:"mapbox.dark",noWrap:!1,accessToken:API_KEY}),a=L.tileLayer(f,{attribution:g,maxZoom:6,minZoom:2,id:"mapbox.light",noWrap:!1,accessToken:API_KEY}),r=L.tileLayer(f,{attribution:g,maxZoom:6,minZoom:2,id:"mapbox.streets",noWrap:!1,accessToken:API_KEY}),n=L.layerGroup();d3.json(y,(function(e){for(var t=0;t<e.features.length;t++){var o=e.features[t].geometry;o&&L.geoJSON(o,{fillOpacity:0,color:"orange",weight:1.5}).addTo(n)}}));var i={"Satellite Map":t,"Dark Map":o,"Light Map":a,"Street Map":r},p={Earthquakes:e,"Tectoninc Plates":n},s=L.map("map",{center:[30.267,-97.743],zoom:3,maxZoom:6,minZoom:2,layers:[t,e]});L.control.layers(i,p,{collapsed:!1}).addTo(s)}(L.geoJSON(e,{onEachFeature:function(e,t){t.bindPopup(`<h3 class="popup-location">Location: ${e.properties.place}</h3>\n\t\t\t\t<hr>\n\t\t\t\t<p class="popup-date">Date:  ${new Date(e.properties.time)}</p>\n\t\t\t\t<p class="popup-magnitude">Magnitude:  ${e.properties.mag}</p>\n\t\t\t\t`)},pointToLayer:(e,t)=>L.circleMarker(t,{radius:e.properties.mag**2,fillColor:h(e.properties.mag),color:h(e.properties.mag),fillOpacity:M(e.properties.mag),weight:1})}))}(e.features),r=e.features,n=r.map(e=>e.properties.mag),i=r.map(e=>e.geometry.coordinates),i.map(e=>e[0]),i.map(e=>e[1]),n.map(h)})}function h(e){return e>6?"rgb(255, 0, 0)":e>5?"#FF4500":e>4?"orange":e>3?"#FFDAB9":"yellow"}function M(e){return e>6?.6:e>5?.5:e>4?.4:e>3?.3:.2}b(),$((function(){$('input[name="daterange"]').daterangepicker({opens:"left"},(function(e,t,r){a=e.format("YYYY-MM-DD"),o=t.format("YYYY-MM-DD"),console.log("A new date selection was made: "+e.format("YYYY-MM-DD")+" to "+t.format("YYYY-MM-DD")),console.log(a,o)}))})),document.getElementById("queryButton").addEventListener("click",(function(){L.map("map").clearLayers(),b()}))}]);